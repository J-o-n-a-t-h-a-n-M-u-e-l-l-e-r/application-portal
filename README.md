# Network-Optimized Application Portal

This branch contains the network-optimized version of the application portal along with the Playwright tests used to run the experiments and the results of those experiments.

## Changes Made to the Original Version

As described in the thesis, we have made the following changes to the original version of the PWA to optimize it for network conditions:

1. **Pagination**: Added pagination to the list of applications to reduce the number of applications loaded at once.
2. **Network Score**: Added a network score calculated based on the effective network type and the round-trip time of the network.
3. **Optimized Cache**: Based on the network score, the service worker uses a cache-first strategy instead of a stale-while-revalidate strategy to serve pages, documents, and
   assets.

### Optimizations Not Part of the Experiments

We have optimized the application further, but these optimizations were not included in the experiments to maintain fair comparisons. Therefore, we have noted every place where we
adapted the code for
the execution of our experiments with the comment tag `NOTE`.

4. **Dynamic Prefetching**: Adapted the prefetching strategy of the original PWA to prefetch only the first page, all the pages, or none of the pages based on the network score.
5. **Conditional Documents Loading**: If the documents of an application have not been loaded yet and the network score is low, the documents are not loaded until the user manually
   clicks the download
   button.
6. **Custom Web Worker**: Implemented a custom web worker to download documents asynchronously, notifying the client once the download is finished.

## Experiments

The Playwright file used to run the experiments can be found in [frontend/tests/example.spec.ts](frontend/tests/example.spec.ts), and the configuration file for Playwright can be
found in
[frontend/playwright.config.ts](frontend/playwright.config.ts).
All the CSV files generated by the Playwright tests can be found in the [analysis/experiments](analysis/experiments) directory.
